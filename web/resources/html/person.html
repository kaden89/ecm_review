<div data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="design: 'headline'"
     style="width: 100%; height:90%;">
    <script type="dojo/require">at: "dojox/mvc/at"</script>
    <div data-dojo-type="dijit/Toolbar" data-dojo-attach-point="toolbar"></div>
    <div id="personDiv">
        <div data-dojo-type="dijit/layout/BorderContainer" style="height: 40%">
            <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'left'" style="width: 60%">
                <div data-dojo-type="dijit/layout/ContentPane" style="height: 40%">
                </div>
                <div data-dojo-type="dijit/layout/ContentPane"
                     data-dojo-props="region:'bottom'"
                     style="text-align: center; font-size: large">
                    <span data-dojo-type="dojox/mvc/Output" data-dojo-props="value: at(this.model, 'firstname')"></span>
                    <span data-dojo-type="dojox/mvc/Output" data-dojo-props="value: at(this.model, 'surname')"></span>
                    <span data-dojo-type="dojox/mvc/Output"
                          data-dojo-props="value: at(this.model, 'patronymic')"></span>
                </div>
            </div>
            <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'right'" style="width: 40%">
                <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'center'">
                    <!--<img src="" class="toChange"  style="width: 100%"/>-->
                    <img src="" class="${baseClass}Image" data-dojo-props="region:'center'"
                         data-dojo-attach-point="avatar" style="height: 100%"/>
                </div>
            </div>
            <!--<div data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="value: at(model, 'firstname')"/>-->
        </div>
        <div data-dojo-type="dijit/layout/BorderContainer" style="height: 50%">
            <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'center'">

                <!--<script type="dojo/require">at: "dojox/mvc/at"</script>-->
                <div data-dojo-type="dijit/form/Form"
                     data-dojo-attach-point="form"
                     data-dojo-props="region:'right'"
                     encType="multipart/form-data" action="/ecm/rest/employees" method="post"
                     style="border: 0px">
                    <script type="dojo/on" data-dojo-event="reset">
                    return confirm('Press OK to reset widget values');


                    </script>

                    <script type="dojo/on" data-dojo-event="submit">
                    if(this.validate()){
                        return confirm('Form is valid, press OK to submit');
                    }else{
                        alert('Form contains invalid data.  Please correct first');
                        return false;
                    }
                    return true;


                    </script>
                    <table style="border: 1px solid #9f9f9f;" cellspacing="10">
                        <tr>
                            <td>
                                <label>ID:</label>
                            </td>
                            <td>
                                <span data-dojo-type="dojox/mvc/Output"
                                      data-dojo-attach-point="entityId"
                                      data-dojo-props="value: at(this.model, 'id')"></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Fisrt name:</label>
                            </td>
                            <td>
                                <input type="text"
                                       name="firstname"
                                       required="true"
                                       data-dojo-type="dijit/form/ValidationTextBox"
                                       data-dojo-props="value: at(this.model, 'firstname')">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Surname:</label>
                            </td>
                            <td>
                                <input type="text"
                                       name="surname"
                                       required="true"
                                       data-dojo-type="dijit/form/ValidationTextBox"
                                       data-dojo-props="value: at(this.model, 'surname')">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Patronymic:</label>
                            </td>
                            <td>
                                <input type="text"
                                       name="patronymic"
                                       required="true"
                                       data-dojo-type="dijit/form/ValidationTextBox"
                                       data-dojo-props="value: at(this.model, 'patronymic')">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Date of birth:</label>
                            </td>
                            <td>
                                <input type="text"
                                       name="birthday"
                                       required="true"
                                       data-dojo-type="dijit/form/DateTextBox"
                                       data-dojo-props="value: at(this.model, 'birthday').transform({
                    parse: function(value){
                     return new Date(Date.UTC(value.getFullYear(), value.getMonth(), value.getDate()));
                    }
                  })"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Position:</label>
                            </td>
                            <td>
                                <div data-dojo-type="dojo/store/JsonRest"
                                     data-dojo-props="target:'http://localhost:8080/ecm/rest/employees/posts', idProperty:'id'"
                                     data-dojo-id="postStore"></div>
                                <select required="true"
                                        name="positionId"
                                        data-dojo-type="dijit/form/FilteringSelect"
                                        data-dojo-props="value: at(this.model, 'positionId'), store: postStore, labelAttr: 'post', searchAttr: 'post'"
                                        data-dojo-attach-point="position"> </select>
                            </td>
                        </tr>
                    </table>


                    <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'center'">
                    </div>
                </div>

                <div data-dojo-type="dojox/form/Uploader"
                     data-dojo-attach-point="uploader"
                     data-dojo-props='id:"uploader"'></div>
                <div data-dojo-type="dojox/form/uploader/FileList"
                     data-dojo-attach-point="filelist"
                     data-dojo-props='uploaderId:"uploader"'></div>
                <div data-dojo-type="dijit/form/Button" data-dojo-attach-point="button"></div>

            </div>

        </div>
    </div>
</div>
